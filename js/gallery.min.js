var thumbnailSpacing=0;$(document).ready(function(){function i(){var i=$(".photos").width(),n=$(".thumbnail_container").width(),t=$(".thumbnail_container div.thumbnail:first-child").outerWidth();n>i&&a(),i-t>n&&a()}function n(i){$(".thumbnail_container div.thumbnail").each(function(){var n=$(this).attr("data-keywords");"all"==i?$(this).addClass("showMe").removeClass("hideMe"):-1!=n.indexOf(i)?$(this).addClass("showMe").removeClass("hideMe"):$(this).addClass("hideMe").removeClass("showMe")}),a()}function a(){$(".thumbnail_container div.thumbnail.hideMe").animate({opacity:0},500,function(){$(this).css({display:"none",top:"0px",left:"0px"})});var i=$(".photos").width(),n=30,a=30,t=$("div.thumbnail img:first-child").outerWidth()+window.thumbnailSpacing,o=$("div.thumbnail img:first-child").outerHeight()+window.thumbnailSpacing,s=Math.floor(i/t);$(".thumbnail_container div.thumbnail.showMe").each(function(i){var e=i%s/100;0==e?(0!=i&&(n+=o+30),a=0):a+=t+30,$(this).css({position:"absolute",display:"block"}).animate({opacity:1,top:n+"px",left:a+"px"},500);var h=n+o;$(".thumbnail_container").css({position:"relative",height:h+"px"})});var e=$(".thumbnail_container").width()/t;e*t-window.thumbnailSpacing}var t=window.location.hash.substring(1);if(-1!==window.location.hash.indexOf("nav")){var t=window.location.hash.substring(1,window.location.hash.length-3);$("a.sortLink").removeClass("selected"),$("a.sortLink[data-keyword='"+t+"']").addClass("selected");var o=t;n(o),$(".gallery .sorting").css("margin-bottom",window.thumbnailSpacing+"px"),a(),$(window).resize(function(){a(),i()})}$("a.sortLink").on("click",function(i){i.preventDefault(),$("a.sortLink").removeClass("selected"),$(this).addClass("selected");var a=$(this).attr("data-keyword");n(a)}),$(".gallery .sorting").css("margin-bottom",window.thumbnailSpacing+"px"),a(),$(window).resize(function(){a(),i()}),$(window).on("hashchange",function(){var t=window.location.hash.substring(1);if(-1!==window.location.hash.indexOf("nav")){var t=window.location.hash.substring(1,window.location.hash.length-3);$("a.sortLink").removeClass("selected"),$("a.sortLink[data-keyword='"+t+"']").addClass("selected");var o=t;n(o),$(".gallery .sorting").css("margin-bottom",window.thumbnailSpacing+"px"),a(),$(window).resize(function(){a(),i()})}})});
